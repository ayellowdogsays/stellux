@use "bytemd/dist/index.css";
@use "github-markdown-css/github-markdown.css";

// 通用颜色变量
$dark-bg: #141414;
$dark-text: #eee;
$cursor-color: #2f54eb;

.bytemd {
  height: 100vh;
  border: 0.5px solid #e1e4e8;

  .CodeMirror {
    ::selection,
    ::-moz-selection,
    &-selected {
      background: rgba(100, 150, 250, 0.3);
      color: #fff;
    }
  }
}

.dark {
  .bytemd,
  .bytemd-editor,
  .bytemd-toolbar {
    background-color: $dark-bg;

    .cm-header {
      color: #569cd6;
      font-weight: bold;
    }
    .cm-s-default {
      .cm-quote {
        color: #6a9955;
      }
      .cm-link {
        color: #3794ff;
        text-decoration: underline;
      }
      .cm-strong {
        font-weight: bold;
      }
      .cm-em {
        font-style: italic;
      }
      .cm-strikethrough {
        text-decoration: line-through;
      }

      // 语法高亮色
      .cm-keyword {
        color: #c586c0;
      }
      .cm-atom {
        color: #dcdcaa;
      }
      .cm-number {
        color: #b5cea8;
      }
      .cm-def {
        color: #9cdcfe;
      }
      .cm-variable-2 {
        color: #4ec9b0;
      }
      .cm-variable-3,
      .cm-type {
        color: #4fc1ff;
      }
      .cm-comment {
        color: #6a9955;
      }
      .cm-string {
        color: #ce9178;
      }
      .cm-string-2 {
        color: #d7ba7d;
      }
      .cm-meta,
      .cm-qualifier {
        color: #c8c8c8;
      }
      .cm-builtin {
        color: #dcdcaa;
      }
      .cm-bracket,
      .cm-hr {
        color: #d4d4d4;
      }
      .cm-tag {
        color: #569cd6;
      }
      .cm-attribute {
        color: #9cdcfe;
      }
      .cm-error,
      .cm-invalidchar {
        color: #f44747;
      }
    }
  }

  .bytemd-toolbar-icon,
  .bytemd-status {
    color: $dark-text;
  }

  .CodeMirror {
    background-color: $dark-bg !important;
    color: $dark-text;
    caret-color: $cursor-color;

    &-activeline-background {
      background: rgba(255, 255, 255, 0.05);
    }

    &-cursor {
      border-left: 1px solid $cursor-color;
    }
  }
}

// markdown 显示样式
.markdown-body {
  background-color: #fff;
  color: #000;

  pre {
    padding: 0;
    background: transparent;

    code.hljs {
      display: block;
      overflow-x: auto;
      padding: 1em;
    }
  }

  code.hljs {
    padding: 3px 5px;
  }

  .hljs {
    color: #383a42;
    background: #fafafa;

    &-comment,
    &-quote {
      color: #a0a1a7;
      font-style: italic;
    }
    &-doctag,
    &-keyword,
    &-formula {
      color: #a626a4;
    }
    &-section,
    &-name,
    &-selector-tag,
    &-deletion,
    &-subst {
      color: #e45649;
    }
    &-literal {
      color: #0184bb;
    }
    &-string,
    &-regexp,
    &-addition,
    &-attribute,
    &-meta .hljs-string {
      color: #50a14f;
    }
    &-attr,
    &-variable,
    &-template-variable,
    &-type,
    &-selector-class,
    &-selector-attr,
    &-selector-pseudo,
    &-number {
      color: #986801;
    }
    &-symbol,
    &-bullet,
    &-link,
    &-meta,
    &-selector-id,
    &-title {
      color: #4078f2;
    }
    &-built_in,
    &-title.class_,
    .hljs-class &-title {
      color: #c18401;
    }
    &-emphasis {
      font-style: italic;
    }
    &-strong {
      font-weight: bold;
    }
    &-link {
      text-decoration: underline;
    }
  }
}

.dark .markdown-body {
  background-color: $dark-bg;
  color: $dark-text;

  .hljs {
    color: #abb2bf;
    background: #282c34;

    &-comment,
    &-quote {
      color: #5c6370;
    }
    &-doctag,
    &-keyword,
    &-formula {
      color: #c678dd;
    }
    &-section,
    &-name,
    &-selector-tag,
    &-deletion,
    &-subst {
      color: #e06c75;
    }
    &-literal {
      color: #56b6c2;
    }
    &-string,
    &-regexp,
    &-addition,
    &-attribute,
    &-meta .hljs-string {
      color: #98c379;
    }
    &-attr,
    &-variable,
    &-template-variable,
    &-type,
    &-selector-class,
    &-selector-attr,
    &-selector-pseudo,
    &-number {
      color: #d19a66;
    }
    &-symbol,
    &-bullet,
    &-link,
    &-meta,
    &-selector-id,
    &-title {
      color: #61aeee;
    }
    &-built_in,
    &-title.class_,
    .hljs-class &-title {
      color: #e6c07b;
    }
    &-emphasis {
      font-style: italic;
    }
    &-strong {
      font-weight: bold;
    }
    &-link {
      text-decoration: underline;
    }
  }
}
